<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <!-- Bootstrap theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" />
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <title>How to create Firebase login and register?</title>
    <link rel="stylesheet" href="../css/login.css" />
    <link rel="stylesheet" href="..//css/style.css">

    <script src="../js/script.js" defer></script>
    <script src="../js/scroll-reveal.js"></script>
    <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
    
</head>

<body>
        <header class="header header-anim" data-header>
      
          <div class="container">
      
            <nav class="navbar" data-navbar>
              <a href="index.html#home" class="logo" style="display:flex;">
              <img src="../images/new_logo_banner_dark.png" alt="" class="logopic" style=" width:0.1px;opacity: 0;" />
              </a>
      
              <ul class="navbar-list">
                <a href="index.html#home">
                <img src="../images/new_logo_banner_dark.png" class="logopic" style=" width: 150px;">
      
                <li class="navbar-item">
                  <a href="index.html#home" class="navbar-link" data-nav-link><i
                      class="ri-home-fill"></i> Home</a>
                </li>
      
                <li class="navbar-item">
                  <a href="index.html#benefits" class="navbar-link" data-nav-link><i
                      class="ri-bar-chart-fill"></i> Benefits</a>
                </li>
      
                <li class="navbar-item">
                  <a href="index.html#genre" onclick="lenis.scrollTo('#genre')" class="navbar-link" data-nav-link><i
                      class="ri-bar-chart-fill"></i> Genre</a>
      
                </li>
      
                <li class="navbar-item">
                  <a href="index.html#contact" onclick="lenis.scrollTo('#contact')" class="navbar-link" data-nav-link><i
                      class="ri-customer-service-2-fill"></i> Contact</a>
                </li>
      
                <li class="navbar-item">
                  <a href="rate.html" onclick="openRateUsModal(); return false;" class="navbar-link">Rate Us</a>
                </li>
                <li class="navbar-item" id="logout-r">
                  <a href="../html/login.html" class="navbar-link">Logout</a>
                </li>
      
                
                <li class="navbar-item dropdown" id="more-dropdown">
                  <a href="#" class="navbar-link" id="more-link">More 
                  <svg  class="dropdown-arrow" xmlns="http://www.w3.org/2000/svg" width="1.3em" height="1.3em" viewBox="0 0 24 24"><path fill="currentcolor" d="m12 13.171l4.95-4.95l1.414 1.415L12 16L5.636 9.636L7.05 8.222z"/></svg></a>
                  <div class="dropdown-menu" id="dropdown-menu">
      
                    <ul class="dropdown-menu-list">
                      <li class="dropdown-menu-item">
                        <a href="index.html#chapters" onclick="lenis.scrollTo('#chapters')" class="navbar-link" data-nav-link><i class="ri-medal-fill"></i> Literary Realms</a>
                      </li>
                      <li class="dropdown-menu-item">
                        <a href="index.html#pricing" onclick="lenis.scrollTo('#pricing')" class="navbar-link" data-nav-link><i class="ri-price-tag-3-fill"></i> Pricing</a>
                      </li>
                      <li class="dropdown-menu-item">
                        <a href="./assets/html/addremovebook.html" class="navbar-link">Booklist for Swapping</a>
                      </li>
                      <li class="dropdown-menu-item">
                        <a href="book_recommend.html" class="navbar-link" data-nav-link>
                          <i class="ri-customer-service-2-fill"></i> Book Recommendation
                        </a>
                      </li>
                      <li class="dropdown-menu-item">
                        <a href="#E-books" onclick="lenis.scrollTo('#E-books')" class="navbar-link" data-nav-link><i class="ri-price-tag-3-fill"></i>Free E-books</a>
                      </li>
                      <li class="dropdown-menu-item">
                        <a href="./assets/html/about.html" class="navbar-link">About</a>
                      </li>
                    </ul>
                  </div>
                </li>
      
                <li>
      
                  <div class="switch-container">
                    <input type="checkbox" id="switch" class="switch-checkbox">
                    <label for="switch" class="switch-label">
                      <div class="switch-button">
                        <span class="material-icons sun-icon"></span>
                        <span class="material-icons moon-icon"></span>
                      </div>
                    </label>
                  </div>
      
                </li>
              </ul>
            </nav>
      
            <button class="nav-toggle-btn" aria-label="toggle menu" data-nav-toggler>
              <ion-icon name="menu-outline" aria-hidden="true" class="open"></ion-icon>
      
              <ion-icon name="close-outline" aria-hidden="true" class="close"></ion-icon>
            </button>
      
          </div>
        </header>
        <div class="note">
            <h1>Welcome to SwapReads</h1>
            <h2>Join us by creating an account or log in if you already have an account.</h2>
          </div>
          <br />
    <div class="container">
        <div class="main">
            <input type="checkbox" id="chk" aria-hidden="true" />

            <div class="signup">
                <form class="form">
                    <label for="chk" aria-hidden="true">Sign up</label>
                    <input class="input" type="text" name="txt" placeholder="User name" required="" />
                    <input class="input" type="email" name="email" placeholder="Email" required="" />
                    <input class="input" type="password" name="pswd" placeholder="Password"  required="" />
                    
                    <button>Sign up</button>
                </form>
            </div>

            <div class="login form">
                
                   
                    <button><a href="login.html">Login here</a></button>
                
            </div>
        </div>
    </div>
    <hr>
    <footer class="footer">
        <div class="container">
            <div class="footer-bottom">
                <p class="copyright">
                    &copy; <span id="copyright-year"></span> All right reserved. Made with ‚ù§ by Guardian Hackers.
                </p>
            </div>
        </div>
    </footer>
    <script>document.getElementById("copyright-year").textContent = new Date().getFullYear();</script>
    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.1/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.8.1/firebase-analytics.js";
        import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut } from "https://www.gstatic.com/firebasejs/10.8.1/firebase-auth.js";

        // Your web app's Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyCu2WXknNce_49J5BLuR1DyHm319hu6dWc",
            authDomain: "login-13127.firebaseapp.com",
            projectId: "login-13127",
            storageBucket: "login-13127.appspot.com",
            messagingSenderId: "151656578300",
            appId: "1:151656578300:web:c67208ab6ec437c844ab79",
            measurementId: "G-L3PPD58MZ8"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
        const auth = getAuth();

        // Remember Me functionality
        window.onload = function () {
            if (localStorage.getItem('rememberMe') === 'true') {
                document.getElementById('login_email').value = localStorage.getItem('email');
                document.getElementById('login_password').value = localStorage.getItem('password');
                document.getElementById('rememberMe').checked = true;
            }
        };

        document.getElementById("register").addEventListener("click", function () {
            let email = document.getElementById("email").value;
            let password = document.getElementById("password").value;

            // For new registration
            createUserWithEmailAndPassword(auth, email, password)
                .then((userCredential) => {
                    // Signed in
                    const user = userCredential.user;
                    console.log(user);
                    alert("Registration successful!");
                    document.getElementById("email").value = "";
                    document.getElementById("password").value = "";
                })
                .catch((error) => {
                    const errorMessage = error.message;
                    console.log(errorMessage);
                    alert(errorMessage);
                });
        });

        document.getElementById("login").addEventListener("click", function () {
            let email = document.getElementById("login_email").value;
            let password = document.getElementById("login_password").value;
            let rememberMe = document.getElementById("rememberMe").checked;

            signInWithEmailAndPassword(auth, email, password)
                .then((userCredential) => {
                    // Signed in
                    if (rememberMe) {
                        localStorage.setItem('email', email);
                        localStorage.setItem('password', password);
                        localStorage.setItem('rememberMe', true);
                    } else {
                        localStorage.removeItem('email');
                        localStorage.removeItem('password');
                        localStorage.removeItem('rememberMe');
                    }
                    window.location.href = "index.html";
                    document.getElementById("logout").style.display = "block";
                })
                .catch((error) => {
                    const errorMessage = error.message;
                    console.log(errorMessage);
                    alert(errorMessage);
                });
        });

        document.getElementById("logout").addEventListener("click", function () {
            signOut(auth)
                .then(() => {
                    console.log("Sign-out successful.");
                });
            });

           